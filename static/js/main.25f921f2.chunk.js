(this["webpackJsonpnft-front"]=this["webpackJsonpnft-front"]||[]).push([[0],{125:function(t,e,n){},126:function(t,e,n){"use strict";n.r(e);var r=n(8),c=n.n(r),o=n(56),a=n.n(o),i=n(21),l=n(1),s=n.n(l),d=Object({NODE_ENV:"production",PUBLIC_URL:"/rashaabdulrazzak/showcodechallenge2-nftfrontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CONTRACT_NAME||"actest2.testnet";var u=function(t){switch(t){case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:d,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://explorer.mainnet.near.org"};case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:d,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"};default:throw Error("Unknown environment '".concat(t,"'."))}},h=n(22),p=u("testnet");function g(){return(g=Object(i.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(h.connect)(Object.assign({deps:{keyStore:new h.keyStores.BrowserLocalStorageKeyStore}},p));case 2:e=t.sent,window.walletConnection=new h.WalletConnection(e),window.accountId=window.walletConnection.getAccountId(),window.contract=new h.Contract(window.walletConnection.account(),p.contractName,{viewMethods:["nft_tokens_for_owner"],changeMethods:["nft_mint"]});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(){window.walletConnection.requestSignIn(p.contractName)}function w(){window.walletConnection.signOut(),window.location.reload()}console.log(p);var f=n(57),m=n(7),x=n.n(m),b=new x.a("300000000000000"),O=new x.a("100000000000000000000000");function v(t){return window.contract.nft_mint({token_id:"".concat(t,"-nft-challenge"),metadata:{title:"Showcode Challenge",description:"NFT Mint",media:"https://bafybeia5nmrdujer6fb3gnju7lm5b5biby33hpmmogb6sc5y3of4u6sdlu.ipfs.nftstorage.link/"},receiver_id:t},b,O)}var y=n.p+"static/media/confetti.4ea37647.png",C=n(0),_=function(t){var e=t.logout,n=t.nftImage,c=Object(r.useState)(!1),o=Object(f.a)(c,2),a=o[0],l=o[1];function d(){return(d=Object(i.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:n=t.sent,console.log({result:n});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){var t=function(){var t=Object(i.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n="".concat(window.accountId),window.contract.nft_tokens_for_owner({account_id:n});case 2:e=t.sent,console.log(e),e.length>0&&e.filter((function(t){return t.token_id==="".concat(window.accountId,"-nft-challenge")})).length>0&&l(!0);case 5:case"end":return t.stop()}var n}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(C.jsx)("div",{children:a?Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{style:{marginBottom:"20px",textAlign:"center"},children:[Object(C.jsx)("h3",{style:{marginBottom:"30px"},children:"You have already minted your nft"}),Object(C.jsx)("img",{src:y,alt:"celebrate",style:{height:"100px"}}),Object(C.jsx)("p",{style:{margin:"30px"},children:Object(C.jsx)("a",{href:"https://wallet.testnet.near.org/",children:"you can check them from your wallet in the collectibles tab!"})})]}),Object(C.jsxs)("div",{style:{margin:"0 auto",textAlign:"center"},children:[Object(C.jsxs)("button",{style:{margin:"5px"},disabled:!0,children:[" ","Mint your nft"," "]}),Object(C.jsxs)("button",{style:{margin:"5px"},onClick:e,children:["logout"," "]})]})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{style:{paddingBottom:"20px"},children:Object(C.jsx)("img",{src:n,alt:"nft",style:{height:300}})}),Object(C.jsxs)("div",{style:{margin:"0 auto",textAlign:"center"},children:[Object(C.jsxs)("button",{style:{margin:"5px"},onClick:function(){return function(t){return d.apply(this,arguments)}("".concat(window.accountId))},children:[" ","Mint your nft"," "]}),Object(C.jsxs)("button",{style:{margin:"5px"},onClick:e,children:["logout"," "]})]})]})})},k=function(t){var e=t.name,n=t.login,r=t.coverImg;return r?Object(C.jsxs)("div",{style:{marginTop:"50px",textAlign:"center"},children:[Object(C.jsx)("h1",{children:" Welcome to the Showcode NEAR Challenge #2"}),Object(C.jsxs)("div",{className:"d-flex justify-content-center text-center",style:{marginTop:"20px"},children:[Object(C.jsx)("div",{className:" ratio ratio-1x1 mx-auto mb-2",style:{textAlign:"center",width:"300"},children:Object(C.jsx)("img",{src:r,alt:"",style:{height:"300px"}})}),Object(C.jsx)("h1",{style:{marginTop:"20px"},children:e}),Object(C.jsx)("p",{style:{marginTop:"10px",marginBottom:"10px"},children:"Please connect your wallet to continue."}),Object(C.jsx)("button",{onClick:n,variant:"outline-light",children:"Connect Wallet"})]})]}):null};k.defaultProps={name:""};var S=k,I=n.p+"static/media/cover.6626d8e4.png",T=(n(125),function(){var t=window.walletConnection.account();return Object(C.jsx)(C.Fragment,{children:t.accountId?Object(C.jsxs)("div",{className:"container ",children:[Object(C.jsxs)("h1",{style:{marginBottom:"25px"},children:["hello ",t.accountId," !"]}),Object(C.jsx)(_,{logout:w,nftImage:I})]}):Object(C.jsx)(S,{name:"Mint Your NFT",login:j,coverImg:I})})}),N=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,127)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),r(t),c(t),o(t),a(t)}))};window.nearInitPromise=function(){return g.apply(this,arguments)}().then((function(){a.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(T,{})}),document.getElementById("root"))})).catch(console.error),N()},70:function(t,e){},80:function(t,e){}},[[126,1,2]]]);
//# sourceMappingURL=main.25f921f2.chunk.js.map