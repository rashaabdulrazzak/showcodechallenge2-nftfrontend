{"version":3,"sources":["utils/config.js","utils/near.js","utils/nftMint.js","assets/img/confetti.png","Components/Mint.js","Components/Cover.js","assets/img/cover.png","App.js","reportWebVitals.js","index.js"],"names":["CONTRACT_NAME","process","environment","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","Error","nearEnv","a","connect","Object","assign","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","near","window","walletConnection","WalletConnection","accountId","getAccountId","contract","Contract","account","viewMethods","changeMethods","login","requestSignIn","logout","signOut","location","reload","console","log","gas","BN","attachedDeposit","nft_mint","name","token_id","metadata","title","description","media","receiver_id","Mint","nftImage","useState","nftMinted","setNftMinted","result","useEffect","mintedNft","nft_tokens_for_owner","account_id","length","filter","e","style","marginBottom","textAlign","src","celebrate","alt","height","margin","href","disabled","onClick","paddingBottom","handle_click","Cover","coverImg","marginTop","className","width","variant","defaultProps","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","nearInitPromise","initializeContract","ReactDOM","render","StrictMode","document","getElementById","catch","error"],"mappings":"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","file":"static/js/main.4fdeaea4.chunk.js","sourcesContent":["const CONTRACT_NAME = process.env.CONTRACT_NAME || \"actest2.testnet\";\n\nfunction environment(env) {\n  switch (env) {\n    case \"mainnet\":\n      return {\n        networkId: \"mainnet\",\n        nodeUrl: \"https://rpc.mainnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.near.org\",\n        helperUrl: \"https://helper.mainnet.near.org\",\n        explorerUrl: \"https://explorer.mainnet.near.org\",\n      };\n    case \"testnet\":\n      return {\n        networkId: \"testnet\",\n        nodeUrl: \"https://rpc.testnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.testnet.near.org\",\n        helperUrl: \"https://helper.testnet.near.org\",\n        explorerUrl: \"https://explorer.testnet.near.org\",\n      };\n    default:\n      throw Error(`Unknown environment '${env}'.`);\n  }\n}\n\nexport default environment;\n","import environment from \"./config\";\nimport { connect, Contract, keyStores, WalletConnection } from \"near-api-js\";\n\nconst nearEnv = environment(\"testnet\");\nconsole.log(nearEnv);\nexport async function initializeContract() {\n  const near = await connect(\n    Object.assign(\n      { deps: { keyStore: new keyStores.BrowserLocalStorageKeyStore() } },\n      nearEnv\n    )\n  );\n  window.walletConnection = new WalletConnection(near);\n  window.accountId = window.walletConnection.getAccountId();\n  window.contract = new Contract(\n    window.walletConnection.account(),\n    nearEnv.contractName,\n    {\n      viewMethods: [\"nft_tokens_for_owner\"],\n      changeMethods: [\"nft_mint\"],\n    }\n  );\n}\n// login function\nexport function login() {\n  window.walletConnection.requestSignIn(nearEnv.contractName);\n}\n\n// logout\nexport function logout() {\n  window.walletConnection.signOut();\n  window.location.reload();\n}\n","import BN from \"bn.js\";\nconst gas = new BN(\"300000000000000\");\nconst attachedDeposit = new BN(\"100000000000000000000000\");\n\nexport function nft_mint(name) {\n  return window.contract.nft_mint(\n    {\n      token_id: `${name}-nft-challenge`,\n      metadata: {\n        title: \"Showcode Challenge\",\n        description: \"NFT Mint\",\n        media:\n          \"https://bafybeia5nmrdujer6fb3gnju7lm5b5biby33hpmmogb6sc5y3of4u6sdlu.ipfs.nftstorage.link/\",\n      },\n      receiver_id: name,\n    },\n    gas,\n    attachedDeposit\n  );\n}\nexport function nft_tokens_for_owner(name) {\n  return window.contract.nft_tokens_for_owner({ account_id: name });\n}\n","export default __webpack_public_path__ + \"static/media/confetti.4ea37647.png\";","import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { nft_mint, nft_tokens_for_owner } from \"../utils/nftMint\";\n\nimport celebrate from \"../assets/img/confetti.png\";\n\nconst Mint = ({ logout, nftImage }) => {\n  const [nftMinted, setNftMinted] = useState(false);\n  async function handle_click(name) {\n    const result = await nft_mint(name);\n    console.log({ result });\n  }\n  useEffect(() => {\n    const mintedNft = async () => {\n      const result = await nft_tokens_for_owner(`${window.accountId}`);\n      console.log(result);\n      if (result.length > 0) {\n        if (\n          result.filter(function (e) {\n            return e.token_id === `${window.accountId}-nft-challenge`;\n          }).length > 0\n        ) {\n          /* if the account already mint its nft */\n          setNftMinted(true);\n        }\n      }\n    };\n    mintedNft();\n  }, []);\n\n  return (\n    <div>\n      {nftMinted ? (\n        <div>\n          <div\n            style={{\n              marginBottom: \"20px\",\n              textAlign: \"center\",\n            }}\n          >\n            <h3 style={{ marginBottom: \"30px\" }}>\n              You have already minted your nft\n            </h3>\n            <img src={celebrate} alt=\"celebrate\" style={{ height: \"100px\" }} />\n            <p style={{ margin: \"30px\" }}>\n              <a href={\"https://wallet.testnet.near.org/\"}>\n                you can check them from your wallet in the collectibles tab!\n              </a>\n            </p>\n          </div>\n          <div style={{ margin: \"0 auto\", textAlign: \"center\" }}>\n            <button style={{ margin: \"5px\" }} disabled>\n              {\" \"}\n              Mint your nft{\" \"}\n            </button>\n            <button style={{ margin: \"5px\" }} onClick={logout}>\n              logout{\" \"}\n            </button>\n          </div>\n        </div>\n      ) : (\n        <>\n          <div style={{ paddingBottom: \"20px\" }}>\n            <img src={nftImage} alt=\"nft\" style={{ height: 300 }} />\n          </div>\n          <div style={{ margin: \"0 auto\", textAlign: \"center\" }}>\n            <button\n              style={{ margin: \"5px\" }}\n              onClick={() => handle_click(`${window.accountId}`)}\n            >\n              {\" \"}\n              Mint your nft{\" \"}\n            </button>\n            <button style={{ margin: \"5px\" }} onClick={logout}>\n              logout{\" \"}\n            </button>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\nexport default Mint;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Cover = ({ name, login, coverImg }) => {\n  if ((name, login, coverImg)) {\n    return (\n      <div style={{ marginTop: \"50px\", textAlign: \"center\" }}>\n        <h1> Welcome to the Showcode NEAR Challenge #2</h1>\n        <div\n          className=\"d-flex justify-content-center text-center\"\n          style={{ marginTop: \"20px\" }}\n        >\n          <div\n            className=\" ratio ratio-1x1 mx-auto mb-2\"\n            style={{ textAlign: \"center\", width: \"300\" }}\n          >\n            <img src={coverImg} alt=\"\" style={{ height: \"300px\" }} />\n          </div>\n          <h1 style={{ marginTop: \"20px\" }}>{name}</h1>\n          <p style={{ marginTop: \"10px\", marginBottom: \"10px\" }}>\n            Please connect your wallet to continue.\n          </p>\n          <button onClick={login} variant=\"outline-light\">\n            Connect Wallet\n          </button>\n        </div>\n      </div>\n    );\n  }\n  return null;\n};\n\nCover.propTypes = {\n  name: PropTypes.string,\n};\n\nCover.defaultProps = {\n  name: \"\",\n};\n\nexport default Cover;\n","export default __webpack_public_path__ + \"static/media/cover.6626d8e4.png\";","import React from \"react\";\n\nimport { login, logout } from \"./utils/near\";\n\nimport Mint from \"./Components/Mint\";\nimport Cover from \"./Components/Cover\";\nimport coverImg from \"./assets/img/cover.png\";\n\nimport \"./App.css\";\n\nconst App = () => {\n  const account = window.walletConnection.account();\n\n  return (\n    <>\n      {account.accountId ? (\n        <div className=\"container \">\n          <h1 style={{ marginBottom: \"25px\" }}>hello {account.accountId} !</h1>\n          <Mint logout={logout} nftImage={coverImg} />\n        </div>\n      ) : (\n        <Cover name=\"Mint Your NFT\" login={login} coverImg={coverImg} />\n      )}\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { initializeContract } from \"./utils/near\";\n\nwindow.nearInitPromise = initializeContract()\n  .then(() => {\n    ReactDOM.render(\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>,\n      document.getElementById(\"root\")\n    );\n  })\n  .catch(console.error);\n\nreportWebVitals();\n"],"sourceRoot":""}